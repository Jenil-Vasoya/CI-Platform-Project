@model CIPlatform.Entities.ViewModel.AdminModel



@section hidefooter {}


<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">

    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/css/toastr.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/js/toastr.min.js"></script>


    <title>Admin</title>
    <style>

        .dropdown-item:hover {
            background-color: #F88634;
            color: white;
            cursor: pointer;
        }

        .applyButton {
            border: 2px solid #F88634;
            border-radius: 100px;
            color: #F88634;
            background-color: white;
        }

            .applyButton:hover {
                background-color: #F88634;
                color: white;
            }

        .has-search .form-control {
            padding-left: 2.375rem;
        }

        .has-search .form-control-feedback {
            position: absolute;
            z-index: 2;
            display: block;
            width: 2.375rem;
            height: 2.375rem;
            line-height: 2.375rem;
            text-align: center;
            pointer-events: none;
            color: #aaa;
        }

        .nav-tabs .nav-link:focus,
        .nav-tabs .nav-link:hover,
        .nav-tabs .nav-item.show .nav-link,
        .nav-tabs .nav-link.ac {
            border-color: transparent;
            color: #505050;
        }

        .nav-tabs .nav-item.show .nav-link,
        .nav-tabs .nav-link.ac {
            border-bottom: 3px solid #000000;
            color: #000000;
            font-weight: 500;
        }

        .nav-link {
            color: #ADADAD;
            font-size: 15px;
            line-height: 18px;
            padding: 14px 18px;
        }

        .nav-tabs .nav-link1:focus,
        .nav-tabs .nav-link1:hover,
        .nav-tabs .nav-item.show .nav-link1,
        .nav-tabs .nav-link1.ac {
            border-color: transparent;
            color: #505050;
        }

        .nav-tabs .nav-item.show .nav-link1,
        .nav-tabs .nav-link1.ac {
            border-bottom: 3px solid #6b6a6a;
            color: #0f0f0f;
            font-weight: 500;
            background-color: white;
        }

        .nav-link1 {
            color: #b61a1a;
            font-size: 15px;
            line-height: 18px;
            padding: 14px 18px;
        }

        .nav-tabs {
            border-bottom: 1px solid #ADADAD;
        }

        .tab-content {
            margin-top: 25px;
        }

        .tab-pane {
            font-size: 15px;
            line-height: 24px;
            color: #3E3E3E;
        }

        .profile-nav {
            width: 40px;
            height: 40px;
            border-radius: 50%;
        }

        .nav-item {
            list-style-type: None;
        }

        .profile {
            width: 40px;
            height: 40px;
            border-radius: 50%;
        }

        .side-nav {
            background-color: #F88634;
        }

        .nav-list li {
            padding-right: 5px;
            padding-left: 5px;
            border-radius: 10px;
            margin-bottom: 5px;
            width: 100%;
        }

        .side-nav .nav-link {
            color: white;
        }

        .nav-link:focus,
        .nav-link:hover {
            color: #F88634;
            background-color: white;
        }

        .userProfile {
            border-radius: 50%;
            width: 50px;
            height: 50px
        }

        .profile span {
            padding: 8px;
            font-size: 16px;
            line-height: 18px;
            color: #000000;
        }

        .nav-pills .nav-link.active,
        .nav-pills .show > .nav-link {
            color: #F88634;
            background-color: #ffffff;
        }

        .form-group input:focus {
            outline: 0px !important;
            box-shadow: none !important;
            border-color: #bdbbbb;
        }

    </style>

</head>

<body>
    <div class="container-fluid p-0">
        <div class="row flex-nowrap g-0">

            <div class="col-2 col-md-4 col-lg-3 col-xl-2 side-nav ">
                <div class="d-flex flex-column align-items-center align-items-sm-start min-vh-100">
                    <ul class="nav nav-pills flex-column align-items-center align-items-sm-start nav-list w-100"
                        id="menu">

                        <li>
                            <a class="d-flex align-items-center pb-3 ps-2 mt-4 text-white text-decoration-none">
                                <span class="fs-5 d-none d-sm-inline">NAVIGATION</span>
                            </a>
                        </li>

                        <li>
                            <a href="#" class="nav-link align-middle active" id="nav-user-tab" data-bs-toggle="tab"
                                data-bs-target="#nav-user" role="tab" aria-controls="nav-user" aria-selected="true">
                                <i class="bi bi-person mr-3" style="font-size: 18px;"></i> <span
                                    class="ms-1 d-none d-sm-inline">User</span>
                            </a>
                        </li>
                        <li>
                            <a href="#" class="nav-link align-middle " id="nav-cms-tab" data-bs-toggle="tab"
                                data-bs-target="#nav-cms" role="tab" aria-controls="nav-cms" aria-selected="true">
                                <i class="bi bi-file-earmark-text mr-3" style="font-size: 18px;"></i><span
                                    class="ms-1 d-none d-sm-inline">CMS Page</span>
                            </a>
                        </li>
                        <li>
                            <a href="#" class="nav-link align-middle" id="nav-mission-tab" data-bs-toggle="tab"
                                data-bs-target="#nav-mission" role="tab" aria-controls="nav-mission"
                                aria-selected="true">
                                <i class="bi bi-bullseye mr-3" style="font-size: 18px;"></i> 
                                <span class="ms-1 d-none d-sm-inline">Mission</span>
                            </a>
                        </li>
                        <li>
                            <a href="#" class="nav-link align-middle" id="nav-theme-tab" data-bs-toggle="tab"
                                data-bs-target="#nav-theme" role="tab" aria-controls="nav-theme" aria-selected="true">
                                <i class="bi bi-columns-gap mr-3" style="font-size: 18px;"></i> <span
                                    class="ms-1 d-none d-sm-inline">Mission Theme</span>
                            </a>
                        </li>
                        <li>
                            <a href="#" class="nav-link align-middle " id="nav-skill-tab" data-bs-toggle="tab"
                                data-bs-target="#nav-skill" role="tab" aria-controls="nav-skill" aria-selected="true">
                                <i class="bi bi-tools mr-3"></i> <span class="ms-1 d-none d-sm-inline">
                                    Mission Skills
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="#" class="nav-link align-middle" id="nav-application-tab" data-bs-toggle="tab"
                                data-bs-target="#nav-application" role="tab" aria-controls="nav-application"
                                aria-selected="true">
                                <i class="bi bi-folder2 mr-3" style="font-size: 22px;"></i> <span
                                    class="ms-1 d-none d-sm-inline">
                                    Mission Application
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="#" class="nav-link align-middle" id="nav-story-tab" data-bs-toggle="tab"
                                data-bs-target="#nav-story" role="tab" aria-controls="nav-story" aria-selected="true">
                                <i class="bi bi-journal-text mr-3" style="font-size: 18px;"></i> <span
                                    class="ms-1 d-none d-sm-inline"> Story</span>
                            </a>
                        </li>
                        <li>
                            <a href="#" class="nav-link align-middle" id="nav-banner-tab" data-bs-toggle="tab"
                                data-bs-target="#nav-banner" role="tab" aria-controls="nav-banner" aria-selected="true">
                                <i class="bi bi-box mr-3" style="font-size: 18px;"></i> <span
                                    class="ms-1 d-none d-sm-inline">
                                    Banner Management
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="#" class="nav-link align-middle" id="nav-comment-tab" data-bs-toggle="tab"
                                data-bs-target="#nav-comment" role="tab" aria-controls="nav-comment" aria-selected="true">
                                <i class="bi bi-chat-text mr-3" style="font-size: 18px;"></i> <span
                                    class="ms-1 d-none d-sm-inline">
                                    Mission Comments
                                </span>
                            </a>
                        </li>

                    </ul>


                    <hr>

                </div>
            </div>


            <div class="col-10 col-md-8 col-lg-9 col-xl-10">

                <nav class="navbar navbar-expand-lg navbar-light bg-light" style="box-shadow: 3px 5px 10px rgba(0,0,0,0.14);">
                    <div class="container-fluid">
                        <span class="navbar-text me-auto">
                            @*Thursday, November 3, 2022, 10:06 AM*@
                             @DateTime.Now.ToString("dddd, MMMM d, yyyy, h:mm tt")
                        </span>
                            <a class="nav-link " style="padding-right: 0px;" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        <img src="~/Assets/StoryImages/@ViewBag.Avatar" class="img rounded-5" style="height: 40px; width: 40px;">
                    </a>
                        
                        <a class="nav-link dropdown-center dropdown-toggle ms-1 " href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">@ViewBag.UserName</a>
                        <ul class=" dropdown-menu dropdown-menu-end">
                            <li><a class="dropdown-item" asp-controller="User" asp-action="EditProfile" asp-route-id="@ViewBag.UserId">Add Profile</a></li>
                            <li><a class="dropdown-item" asp-controller="Home" asp-action="MissionGrid">Home</a></li>
                            <li><a class="dropdown-item" asp-controller="User" asp-action="LogOut">Log Out</a></li>
                        </ul>
                    </div>
                </nav>



                <div class="m-2">
                    <div class="tab-content" id="nav-tabContent">

                        <div class="tab-pane fade show active" id="nav-user" role="tabpanel" aria-labelledby="nav-user-tab">
                            <div id="searchUser1" style="padding:10px;">
                                <h4 class="pt-3 pb-2">User</h4>
                                <div class="row">
                                    <div class="col-11">
                                        <input class="form-control pl-5 w-25" id="name" name="search" type="search" placeholder="&nbsp;Search User..." oninput="searchMission()" aria-label="Search">
                                    </div>
                                    <div class="col-1 text-end">
                                        <button type="button" id="addUser" class="btn applyButton rounded-pill"
                                                onclick="addUser('nav-user')">
                                            <i class="bi bi-plus"></i>
                                            Add
                                        </button>
                                    </div>
                                </div>
                            </div>
                            

                            <div id="users">
                            <partial name="_UserData" />
                            </div>
                        </div>

                        <div class="tab-pane fade" id="nav-cms" role="tabpanel" aria-labelledby="nav-cms-tab">
                          <div id="searchCMS1" style="padding:10px;">
                                <h4 class="pt-3 pb-2">CMS Page</h4>
                                <div class="row">
                                    <div class="col-11">
                                       <input class="form-control pl-5 w-25" id="name" name="searchCMS" type="search" placeholder="&nbsp;Search CMS..." oninput="searchMission(1,'cms')" aria-label="Search">
                                    </div>
                                    <div class="col-1 text-end">
                                        <button type="button" id="addCMS" class="btn applyButton rounded-pill"
                                                 onclick="addform('nav-cms')">
                                            <i class="bi bi-plus"></i>
                                            Add
                                        </button>
                                    </div>
                                </div>
                            </div>

                                <div id="cms">
                                    <partial name="_CMSData" />
                                </div>
                        
                        </div>

                        <div class="tab-pane fade" id="nav-mission" role="tabpanel" aria-labelledby="nav-mission-tab">
                            <div id="searchMission1" style="padding:10px;">
                                <h4 class="pt-3 pb-2">Mission</h4>
                                <div class="row">
                                    <div class="col-11">
                                        <input class="form-control pl-5 w-25" id="name" name="searchMission" type="search" placeholder="&nbsp;Search Mission..." oninput="searchMission(1,'mission')" aria-label="Search">
                                    </div>
                                    <div class="col-1 text-end">
                                        <button type="button" id="addMission" class="btn applyButton rounded-pill"
                                                onclick="addMission('nav-mission')">
                                            <i class="bi bi-plus"></i>
                                            Add
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div id="missions">
                            <partial name="_MissionData" />
                            </div>
                        </div>

                        <div class="tab-pane fade" id="nav-theme" role="tabpanel" aria-labelledby="nav-theme-tab">
                            <div id="searchTheme1" style="padding:10px;">
                                <h4 class="pt-3 pb-2">Theme</h4>
                                <div class="row">
                                    <div class="col-11">
                                        <input class="form-control pl-5 w-25" id="searchTheme" name="searchTheme" type="search" placeholder="&nbsp;Search Theme..." oninput="searchMission(1,'theme')" aria-label="Search">
                                    </div>
                                    <div class="col-1 text-end">
                                        <button type="button" id="addTheme" class="btn applyButton rounded-pill"
                                                onclick="addTheme('nav-theme')">
                                            <i class="bi bi-plus"></i>
                                            Add
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <div id="themes">
                            <partial name="_ThemeData" />
                            </div>
                        </div>

                        <div class="tab-pane fade" id="nav-skill" role="tabpanel" aria-labelledby="nav-skill-tab">
                            <div id="searchSkill1" style="padding:10px;">
                                <h4 class="pt-3 pb-2">Skills</h4>
                                <div class="row">
                                    <div class="col-11">
                                        <input class="form-control pl-5 w-25" id="searchSkill" name="searchSkill" type="search" placeholder="&nbsp;Search Skill..." oninput="searchMission(1,'skill')" aria-label="Search">
                                    </div>
                                    <div class="col-1 text-end">
                                        <button type="button" class="btn applyButton rounded-pill"
                                                onclick="addSkill('nav-skill')">
                                            <i class="bi bi-plus"></i>
                                            Add
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <div id="skills">
                            <partial name="_SkillData" />
                            </div>
                        </div>

                        <div class="tab-pane fade" id="nav-application" role="tabpanel" aria-labelledby="nav-application-tab">
                            <div style="padding:10px;">
                                <h4 class="pt-3 pb-2">Application</h4>
                                <div class="row">
                                    <div class="col-11">
                                        <input class="form-control pl-5 w-25" id="searchApplication" name="searchApplication" type="search" placeholder="&nbsp;Search Application..." oninput="searchMission(1,'application')" aria-label="Search">
                                    </div>
                                </div>
                            </div>

                            <div id="applications">
                            <partial name="_ApplicationData" />
                            </div>
                        </div>

                        <div class="tab-pane fade" id="nav-story" role="tabpanel" aria-labelledby="nav-story-tab">
                            <div style="padding:10px;">
                               <h4 class="pt-3 pb-2">Story</h4>
                                <div class="row">
                                    <div class="col-11">
                                        <input class="form-control pl-5 w-25" id="name" name="searchStory" type="search" placeholder="&nbsp;Search Story..." oninput="searchMission(1,'story')" aria-label="Search">
                                    </div>
                                </div>
                            </div>

                            <div id="stories">
                            <partial name="_StoryData" />
                            </div>
                        </div>

                        <div class="tab-pane fade" id="nav-banner" role="tabpanel" aria-labelledby="nav-banner-tab">

                            <div id="searchBanner1" style="padding:10px;">
                                <h4 class="pt-3 pb-2">Banner</h4>
                                <div class="row">
                                    <div class="col-11">
                                        <input class="form-control pl-5 w-25" id="searchBanner" name="searchBanner" type="search" placeholder="&nbsp;Search Banner..." oninput="searchMission(1,'banner')" aria-label="Search">
                                    </div>
                                    <div class="col-1 text-end">
                                        <button type="button" class="btn applyButton rounded-pill"
                                                onclick="addBanner('nav-banner')">
                                            <i class="bi bi-plus"></i>
                                            Add
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <div id="banners">
                            <partial name="_BannerData" />
                            </div>
                        </div>

                        <div class="tab-pane fade" id="nav-comment" role="tabpanel" aria-labelledby="nav-comment-tab">
                            <div style="padding:10px;">
                                <h4 class="pt-3 pb-2">Mission Comments</h4>
                                <div class="row">
                                    <div class="col-11">
                                        <input class="form-control pl-5 w-25" id="searchComment" name="searchComment" type="search" placeholder="&nbsp;Search Comment..." oninput="searchMission(1,'comment')" aria-label="Search">
                                    </div>
                                </div>
                            </div>

                            <div id="comments">
                            <partial name="_CommentData" />
                            </div>
                        </div>
                    </div>
                </div>

            </div>


        </div>
    </div>



   @* <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
*@

<script>
      function searchMission(pg,who) {
          debugger
            var search = $('input[name="search"]').val();
            if(search == "")
            {
                search = $('input[name="searchMission"]').val();
            }
            if(search == "")
            {
                search = $('input[name="searchCMS"]').val();
            }
            if(search == "")
            {
                search = $('#searchTheme').val();
            }
            if(search == "")
            {
                search = $('input[name="searchSkill"]').val();
            }
            if(search == "")
            {
                search = $('input[name="searchApplication"]').val();
            }
            if(search == "")
            {
                search = $('input[name="searchStory"]').val();
            }
            if(search == "")
            {
                search = $('input[name="searchBanner"]').val();
            }
            if(search == "")
            {
                search = $('input[name="searchComment"]').val();
            }

            if (pg == undefined) {
                pg = 1;
            }
        
            if (who == undefined) {
                who = 'user';
            }

            debugger;
            $.ajax({
                url: "/Admin/Search",
                method: "POST",
                data: {
                    "search": search,
                    "pg": pg,
                    "who": who
                },
                success: function (data) {
                    debugger
                    if(who == 'user')
                    {
                        $('#users').html(data);
                    }
                    else if(who == 'cms')
                    {
                        $('#cms').html(data);
                    }
                    else if(who == 'mission')
                    {
                        $('#missions').html(data);
                    }
                    else if(who == 'theme')
                    {
                         $('#themes').html(data);
                    }
                    else if(who == 'skill')
                    {
                         $('#skills').html(data);
                    }
                    else if(who == 'application')
                    {
                         $('#applications').html(data);
                    }
                    else if(who == 'story')
                    {
                         $('#stories').html(data);
                    } 
                    else if(who == 'banner')
                    {
                         $('#banners').html(data);
                    }
                    else if(who == 'comment')
                    {
                         $('#comments').html(data);
                    }
                },
                error: function (request, error) {
                    console.log(error);
                }
            })  
            }
</script>


</body>

</html>