@model CIPlatform.Entities.ViewModel.AdminModel



@section hidefooter {}


<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">

    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/css/toastr.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/js/toastr.min.js"></script>


    <title>Document</title>
    <style>

        .dropdown-item:hover {
            background-color: #F88634;
            color: white;
            cursor: pointer;
        }
        .applyButton {
        border: 2px solid #F88634;
        border-radius: 100px;
        color: #F88634;
        background-color: white;
        }

        .applyButton:hover {
            background-color: #F88634;
            color: white;
        }
        .has-search .form-control {
            padding-left: 2.375rem;
        }

        .has-search .form-control-feedback {
            position: absolute;
            z-index: 2;
            display: block;
            width: 2.375rem;
            height: 2.375rem;
            line-height: 2.375rem;
            text-align: center;
            pointer-events: none;
            color: #aaa;
        }

        .nav-tabs .nav-link:focus,
        .nav-tabs .nav-link:hover,
        .nav-tabs .nav-item.show .nav-link,
        .nav-tabs .nav-link.ac {
            border-color: transparent;
            color: #505050;
        }

        .nav-tabs .nav-item.show .nav-link,
        .nav-tabs .nav-link.ac {
            border-bottom: 3px solid #000000;
            color: #000000;
            font-weight: 500;
        }

        .nav-link {
            color: #ADADAD;
            font-size: 15px;
            line-height: 18px;
            padding: 14px 18px;
        }


        .nav-tabs .nav-link1:focus,
        .nav-tabs .nav-link1:hover,
        .nav-tabs .nav-item.show .nav-link1,
        .nav-tabs .nav-link1.ac {
            border-color: transparent;
            color: #505050;
        }

        .nav-tabs .nav-item.show .nav-link1,
        .nav-tabs .nav-link1.ac {
            border-bottom: 3px solid #6b6a6a;
            color: #0f0f0f;
            font-weight: 500;
            background-color: white;
        }

        .nav-link1 {
            color: #b61a1a;
            font-size: 15px;
            line-height: 18px;
            padding: 14px 18px;
        }



        .nav-tabs {
            border-bottom: 1px solid #ADADAD;
        }

        .tab-content {
            margin-top: 25px;
        }

        .tab-pane {
            font-size: 15px;
            line-height: 24px;
            color: #3E3E3E;
        }

        .profile-nav {
            width: 40px;
            height: 40px;
            border-radius: 50%;
        }

        .nav-item {
            list-style-type: None;
        }

        .profile {
            width: 40px;
            height: 40px;
            border-radius: 50%;
        }

        .side-nav {
            background-color: #F88634;
        }

        .nav-list li {
            padding-right: 5px;
            padding-left: 5px;
            border-radius: 10px;
            margin-bottom: 5px;
            width: 100%;
        }

        .side-nav .nav-link {
            color: white;
        }

        .nav-link:focus,
        .nav-link:hover {
            color: #F88634;
            background-color: white;
        }

        .userProfile {
            border-radius: 50%;
            width: 50px;
            height: 50px
        }

        .profile span {
            padding: 8px;
            font-size: 16px;
            line-height: 18px;
            color: #000000;
        }

        .nav-pills .nav-link.active,
        .nav-pills .show>.nav-link {
            color: #F88634;
            background-color: #ffffff;
        }

        .form-group input:focus {
            outline: 0px !important;
            box-shadow: none !important;
            border-color: #bdbbbb;
        }
    </style>

</head>

<body>
    <div class="container-fluid p-0">
        <div class="row flex-nowrap g-0">

            <div class="col-2 col-md-4 col-lg-3 col-xl-2 side-nav ">
                <div class="d-flex flex-column align-items-center align-items-sm-start min-vh-100">
                    <ul class="nav nav-pills flex-column align-items-center align-items-sm-start nav-list w-100"
                        id="menu">

                        <li>
                            <a class="d-flex align-items-center pb-3 ps-2 mt-4 text-white text-decoration-none">
                                <span class="fs-5 d-none d-sm-inline">NAVIGATION</span>
                            </a>
                        </li>

                        <li>
                            <a href="#" class="nav-link align-middle active" id="nav-user-tab" data-bs-toggle="tab"
                                data-bs-target="#nav-user" role="tab" aria-controls="nav-user" aria-selected="true">
                                <i class="bi bi-person mr-3" style="font-size: 18px;"></i> <span
                                    class="ms-1 d-none d-sm-inline">User</span>
                            </a>
                        </li>
                        <li>
                            <a href="#" class="nav-link align-middle " id="nav-cms-tab" data-bs-toggle="tab"
                                data-bs-target="#nav-cms" role="tab" aria-controls="nav-cms" aria-selected="true">
                                <i class="bi bi-file-earmark-text mr-3" style="font-size: 18px;"></i><span
                                    class="ms-1 d-none d-sm-inline">CMS Page</span>
                            </a>
                        </li>
                        <li>
                            <a href="#" class="nav-link align-middle" id="nav-mission-tab" data-bs-toggle="tab"
                                data-bs-target="#nav-mission" role="tab" aria-controls="nav-mission"
                                aria-selected="true">
                                <i class="bi bi-bullseye mr-3" style="font-size: 18px;"></i> 
                                <span class="ms-1 d-none d-sm-inline">Mission</span>
                            </a>
                        </li>
                        <li>
                            <a href="#" class="nav-link align-middle" id="nav-theme-tab" data-bs-toggle="tab"
                                data-bs-target="#nav-theme" role="tab" aria-controls="nav-theme" aria-selected="true">
                                <i class="bi bi-columns-gap mr-3" style="font-size: 18px;"></i> <span
                                    class="ms-1 d-none d-sm-inline">Mission Theme</span>
                            </a>
                        </li>
                        <li>
                            <a href="#" class="nav-link align-middle " id="nav-skill-tab" data-bs-toggle="tab"
                                data-bs-target="#nav-skill" role="tab" aria-controls="nav-skill" aria-selected="true">
                                <i class="bi bi-tools mr-3"></i> <span class="ms-1 d-none d-sm-inline">
                                    Mission Skills
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="#" class="nav-link align-middle" id="nav-application-tab" data-bs-toggle="tab"
                                data-bs-target="#nav-application" role="tab" aria-controls="nav-application"
                                aria-selected="true">
                                <i class="bi bi-folder2 mr-3" style="font-size: 22px;"></i> <span
                                    class="ms-1 d-none d-sm-inline">
                                    Mission Application
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="#" class="nav-link align-middle" id="nav-story-tab" data-bs-toggle="tab"
                                data-bs-target="#nav-story" role="tab" aria-controls="nav-story" aria-selected="true">
                                <i class="bi bi-journal-text mr-3" style="font-size: 18px;"></i> <span
                                    class="ms-1 d-none d-sm-inline"> Story</span>
                            </a>
                        </li>
                        <li>
                            <a href="#" class="nav-link align-middle" id="nav-banner-tab" data-bs-toggle="tab"
                                data-bs-target="#nav-banner" role="tab" aria-controls="nav-banner" aria-selected="true">
                                <i class="bi bi-box mr-3" style="font-size: 18px;"></i> <span
                                    class="ms-1 d-none d-sm-inline">
                                    Banner Management
                                </span>
                            </a>
                        </li>

                    </ul>


                    <hr>

                </div>
            </div>


            <div class="col-10 col-md-8 col-lg-9 col-xl-10">

                <nav class="navbar navbar-expand-lg navbar-light bg-light" style="box-shadow: 3px 5px 10px rgba(0,0,0,0.14);">
                    <div class="container-fluid">
                        <span class="navbar-text me-auto">
                            @*Thursday, November 3, 2022, 10:06 AM*@
                             @DateTime.Now.ToString("dddd, MMMM d, yyyy, h:mm tt")
                        </span>
                            <a class="nav-link " style="padding-right: 0px;" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        <img src="~/Assets/StoryImages/@ViewBag.Avatar" class="img rounded-5" style="height: 40px; width: 40px;">
                    </a>
                        
                        <a class="nav-link dropdown-center dropdown-toggle ms-1 " href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">@ViewBag.UserName</a>
                        <ul class=" dropdown-menu dropdown-menu-end">
                            <li><a class="dropdown-item" asp-controller="User" asp-action="EditProfile" asp-route-id="@ViewBag.UserId">Add Profile</a></li>
                            <li><a class="dropdown-item" asp-controller="Home" asp-action="MissionGrid">Home</a></li>
                            <li><a class="dropdown-item" asp-controller="User" asp-action="LogOut">Log Out</a></li>
                        </ul>
                    </div>
                </nav>



                <div class="m-2">
                    <div class="tab-content" id="nav-tabContent">

                        <div class="tab-pane fade show active" id="nav-user" role="tabpanel" aria-labelledby="nav-user-tab">
                            <h4 class="pt-3 pb-2">User</h4>
                            <input class="form-control pl-5 w-25" style="border-style:none;" id="name" name="search" type="search" placeholder="&nbsp;Search User..." oninput="searchMission()" aria-label="Search">

                            <div id="users">
                            <partial name="_UserData" />
                            </div>
                        </div>

                        <div class="tab-pane fade" id="nav-cms" role="tabpanel" aria-labelledby="nav-cms-tab">
                          
                                <h4 class="pt-3 pb-2">CMS Page</h4>
                                <div class="row mt-3 g-0">
                                    <div class="col-12 col-sm-6 col-lg-4 col-xl-3">
                                        <div class="form-group has-search">
                                            <span class="fa fa-search form-control-feedback"></span>
                                            <input type="text" class="form-control " placeholder="Search">
                                        </div>
                                    </div>
                                </div>
                                <div id="cms">
                                    <partial name="_CMSData" />
                                </div>
                        

                            

                            @*<div class="border" id="edit" style="display: none;">
                                <h3 class="p-3 m-0" style="background-color: #F8F9FC;"> Edit </h3>
                                <hr class="m-0">
                                <form class="px-3">
                                    <label for="select mission" class="mt-3"> Title </label>
                                    <input type="text" class="form-control" id="formGroupExampleInput">
                                    <label class="mt-3"> Description</label>
                                    <textarea id="cms2" cols="172" rows="10" maxlength="40000"></textarea>
                                    <script>
                                        var abc = document.getElementById("cms2");
                                        CKEDITOR.replace(abc);
                                    </script>
                                    <label class="mt-3"> Slug </label>
                                    <input type="text" class="form-control" id="formGroupExampleInput">

                                    <label class="mb-1 mt-3">Mission</label>
                                    <select type="text" class="form-select form-control">
                                        <option value="true">Active</option>
                                        <option value="false">Inactive</option>
                                    </select>
                                    <div class="row my-3">
                                        <div class="col-10"></div>
                                        <div class="col-2">
                                            <button type="button" class="cancell rounded-pill btn btn-outline-dark"
                                                onclick="editpage('nav-cms');">Cancel</button>
                                            <button type="submit" class="threebt rounded-pill btn btn-outline-warning"
                                                value="2" name="command">Save</button>
                                        </div>
                                    </div>
                                </form>
                            </div>*@
                        </div>

                        <div class="tab-pane fade" id="nav-mission" role="tabpanel" aria-labelledby="nav-mission-tab">
                            <div id="searchMission1">
                                <h4 class="pt-3 pb-2">Mission</h4>
                                <input class="form-control pl-5 w-25" style="border-style:none;" id="name" name="searchMission" type="search" placeholder="&nbsp;Search Mission..." oninput="searchMission(1,'mission')" aria-label="Search">

                                    <button type="button" id="addMission" class="btn applyButton rounded-pill"
                                            onclick="addMission('nav-mission')">
                                        <i class="bi bi-plus"></i>
                                        Add
                                    </button>
                            </div>
                            <div id="missions">
                            <partial name="_MissionData" />
                            </div>
                        </div>

                        <div class="tab-pane fade" id="nav-theme" role="tabpanel" aria-labelledby="nav-theme-tab">
                            <h4 class="pt-3 pb-2">Theme</h4>
                            <input class="form-control pl-5 w-25" style="border-style:none;" id="searchTheme" name="searchTheme" type="search" placeholder="&nbsp;Search Theme..." oninput="searchMission(1,'theme')" aria-label="Search">

                            <div id="themes">
                            <partial name="_ThemeData" />
                            </div>
                        </div>

                        <div class="tab-pane fade" id="nav-skill" role="tabpanel" aria-labelledby="nav-skill-tab">
                            <h4 class="pt-3 pb-2">Skills</h4>
                            <input class="form-control pl-5 w-25" style="border-style:none;" id="name" name="searchSkill" type="search" placeholder="&nbsp;Search Skill..." oninput="searchMission(1,'skill')" aria-label="Search">

                            <div id="skills">
                            <partial name="_SkillData" />
                            </div>
                        </div>

                        <div class="tab-pane fade" id="nav-application" role="tabpanel" aria-labelledby="nav-application-tab">
                            <h4 class="pt-3 pb-2">Application</h4>
                            <input class="form-control pl-5 w-25" style="border-style:none;" id="name" name="searchApplication" type="search" placeholder="&nbsp;Search Application..." oninput="searchMission(1,'application')" aria-label="Search">

                            <div id="applications">
                            <partial name="_ApplicationData" />
                            </div>
                        </div>

                        <div class="tab-pane fade" id="nav-story" role="tabpanel" aria-labelledby="nav-story-tab">
                            <h4 class="pt-3 pb-2">Story</h4>
                            <input class="form-control pl-5 w-25" style="border-style:none;" id="name" name="searchStory" type="search" placeholder="&nbsp;Search Story..." oninput="searchMission(1,'story')" aria-label="Search">

                            <div id="stories">
                            <partial name="_StoryData" />
                            </div>
                        </div>

                        <div class="tab-pane fade" id="nav-banner" role="tabpanel" aria-labelledby="nav-banner-tab">
                            <h4 class="pt-3 pb-2">Banner</h4>

                            <div id="banners">
                            <partial name="_BannerData" />
                            </div>
                        </div>
                    </div>
                </div>

            </div>


        </div>
    </div>



   @* <script>
        function addCMS(event) {
                     debugger
                     event.preventDefault();
                     var formData = {
                         title: $('#formGroupExampleInput').val(),
                         description: $('#editor').val(),
                         slug: $('#formGroupExampleInput').val(),
                         status: $('#status').val()
                     };

                     // Send the AJAX request
                     $.ajax({
                         type: 'POST',
                         url: '/Admin/AddCMS',
                         data: formData,
                         success: function(data) {
                             console.log(data);
                             debugger
                             addpage('nav-cms');
                             console.log(data);
                             $('#cms').html(data);
                             toastr.success('Page added successfully');

                         },
                        error: function (request, error) {
                         console.log(error);
                     }
                     });
                 }


    </script>*@

    

   @* <script>
        function addform(x) {
            var page = document.getElementById(x);
            var cmsPage = page.querySelector("#cmspage");
            var addForm = page.querySelector("#add");
            cmsPage.style.display = "none";
            addForm.style.display = 'block';
        }
        function addpage(x) {
            debugger
            var page = document.getElementById(x);
            var cmsPage = page.querySelector("#cmspage");
            var addForm = page.querySelector("#add");
            cmsPage.style.display = "block";
            addForm.style.display = 'none';
        }
        function editform(x) {
            var page = document.getElementById(x);
            var cmsPage = page.querySelector("#cmspage");
            var addForm = page.querySelector("#edit");
            cmsPage.style.display = "none";
            addForm.style.display = 'block';
        }
        function editpage(x) {
            var page = document.getElementById(x);
            var cmsPage = page.querySelector("#cmspage");
            var addForm = page.querySelector("#edit");
            cmsPage.style.display = "block";
            addForm.style.display = 'none';
        }


    </script>*@



    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>


<script>
      function searchMission(pg,who) {
          debugger
            var search = $('input[name="search"]').val();
            if(search == "")
            {
                search = $('input[name="searchMission"]').val();
            }
            if(search == "")
            {
                search = $('input[name="searchCMS"]').val();
            }
            if(search == "")
            {
                search = $('#searchTheme').val();
            }
            if(search == "")
            {
                search = $('input[name="searchSkill"]').val();
            }
            if(search == "")
            {
                search = $('input[name="searchApplication"]').val();
            }
            if(search == "")
            {
                search = $('input[name="searchStory"]').val();
            }

            if (pg == undefined) {
                pg = 1;
            }
        
            if (who == undefined) {
                who = 'user';
            }

            debugger;
            $.ajax({
                url: "/Admin/Search",
                method: "POST",
                data: {
                    "search": search,
                    "pg": pg,
                    "who": who
                },
                success: function (data) {
                    debugger
                    if(who == 'user')
                    {
                        $('#users').html(data);
                    }
                    else if(who == 'cms')
                    {
                        $('#cms').html(data);
                    }
                    else if(who == 'mission')
                    {
                        $('#missions').html(data);
                    }
                    else if(who == 'theme')
                    {
                         $('#themes').html(data);
                    }
                    else if(who == 'skill')
                    {
                         $('#skills').html(data);
                    }
                    else if(who == 'application')
                    {
                         $('#applications').html(data);
                    }
                    else if(who == 'story')
                    {
                         $('#stories').html(data);
                    } 
                    else if(who == 'banner')
                    {
                         $('#banners').html(data);
                    }
                },
                error: function (request, error) {
                    console.log(error);
                }
            })  
            }
</script>


</body>

</html>